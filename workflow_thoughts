dev mode：
1. 先确认串口可连接。
2. 再烧录固件，并确认烧录结果，烧录失败，则直接结束，成功，则保持 bootloader。

dev mode：
1. 先确认串口可连接。
2. 再烧录固件，并确认烧录结果，烧录失败，则直接结束，成功，则保持bootloader。
4. test的流程
    0. 连接串口，并监控日志
    1. 尝试获取esp信息,通过esptool 获取mac地址
    2. 复位设备，并监控日志，当检测到rst:0x1 (POWERON),boot:0xe (SPI_FAST_FLASH_BOOT)类似信息时候，代表复位成功
    3. 监听是否进入Factory Configuration Mode。 超时时间2秒。
    4. 监听RTC事件，如果收到Time passed，则表示RTC通过
    5. 监听压力传感器事件，如果收到Pressure Sensor Calibration Value Ok，则表示压力传感器通过
    6. 监听Press button to continue，则表示需要用户按下按键，在终端窗口提示用户
    7. 如果需要输入硬件版本，则自动输入，
    8. 如果需要输入序列号，则自动输入。
    9. 完成之后，进入结束流程。


任何时候按了ctrl+c，则先调用step，然后退出当前loop。任何时候按了ctrl+r则重新启动当前的py程序。

“结束” step的定义： 
1 释放所有资源，比方说如果串口已连接，则关闭串口； 
2. 复位设备
3. 记录结束原因。


任何时候按了ctrl+c，则先调用step，然后退出当前loop。任何时候按了ctrl+r则重新启动当前的py程序。

“结束” step的定义： 
1 释放所有资源，比方说如果串口已连接，则关闭串口； 
2. 复位设备
3. 记录结束原因。


任何时候按了 ctrl+c，则先调用 end step，然后退出当前 loop。任何时候按了 ctrl+r 则重新启动当前的 py 程序。

“结束” step 的定义：
1. 释放所有资源，比方说如果串口已连接，则关闭串口；
2. 复位设备；
3. 记录结束原因（包括是哪一步失败、失败原因、是否人工中断）。